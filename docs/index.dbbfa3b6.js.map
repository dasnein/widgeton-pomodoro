{"mappings":"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","sources":["<anon>","src/ts/main.ts","src/ts/controllers/index.ts","src/ts/consts.ts","src/ts/eventBus/index.ts","src/ts/eventBus/eventBus.ts","src/ts/renderer/index.ts","src/ts/store/index.ts","src/ts/store/store.ts","src/ts/utils/storage.ts","src/ts/renderer/controls.ts","src/ts/renderer/footer.ts","src/ts/labels.ts","src/ts/utils/index.ts","src/ts/renderer/header.ts","src/ts/renderer/timer.ts","src/ts/renderer/settings.ts","src/ts/controllers/audio.ts","src/ts/controls/index.ts","src/ts/controls/settings.ts"],"sourcesContent":["var $84eb1e6ca88951b5$export$2fdc5139b636713c;\n(function(StorageKey) {\n    StorageKey[\"Settings\"] = \"settings\";\n    StorageKey[\"State\"] = \"state\";\n})($84eb1e6ca88951b5$export$2fdc5139b636713c || ($84eb1e6ca88951b5$export$2fdc5139b636713c = {}));\nvar $84eb1e6ca88951b5$var$ViewId;\n(function(ViewId) {\n    ViewId[\"Timer\"] = \"view-timer\";\n    ViewId[\"Settings\"] = \"view-settings\";\n})($84eb1e6ca88951b5$var$ViewId || ($84eb1e6ca88951b5$var$ViewId = {}));\nvar $84eb1e6ca88951b5$var$ButtonId;\n(function(ButtonId) {\n    ButtonId[\"Start\"] = \"button-start\";\n    ButtonId[\"Stop\"] = \"button-stop\";\n    ButtonId[\"SettingsShow\"] = \"button-settings-show\";\n    ButtonId[\"SettingsClose\"] = \"button-settings-close\";\n    ButtonId[\"Reset\"] = \"button-reset\";\n})($84eb1e6ca88951b5$var$ButtonId || ($84eb1e6ca88951b5$var$ButtonId = {}));\nvar $84eb1e6ca88951b5$var$TextId;\n(function(TextId) {\n    TextId[\"TimeOperation\"] = \"time-operation\";\n    TextId[\"TimeRemains\"] = \"time-remains\";\n    TextId[\"HeaderRoundCurrent\"] = \"header-round-current\";\n    TextId[\"HeaderRoundsTotal\"] = \"header-rounds-total\";\n})($84eb1e6ca88951b5$var$TextId || ($84eb1e6ca88951b5$var$TextId = {}));\nvar $84eb1e6ca88951b5$var$TimerLogoId;\n(function(TimerLogoId) {\n    TimerLogoId[\"Colored\"] = \"timer-logo-colored\";\n    TimerLogoId[\"Colorless\"] = \"timer-logo-colorless\";\n})($84eb1e6ca88951b5$var$TimerLogoId || ($84eb1e6ca88951b5$var$TimerLogoId = {}));\nvar $84eb1e6ca88951b5$var$AudioId;\n(function(AudioId) {\n    AudioId[\"LongBreak\"] = \"audio-long-break\";\n    AudioId[\"ShortBreak\"] = \"audio-short-break\";\n    AudioId[\"Work\"] = \"audio-work\";\n})($84eb1e6ca88951b5$var$AudioId || ($84eb1e6ca88951b5$var$AudioId = {}));\nvar $84eb1e6ca88951b5$var$SettingsValueId;\n(function(SettingsValueId) {\n    SettingsValueId[\"FocusPeriod\"] = \"settings-value-focus-period\";\n    SettingsValueId[\"LongBreakPeriod\"] = \"settings-value-long-break-period\";\n    SettingsValueId[\"Rounds\"] = \"settings-value-rounds\";\n    SettingsValueId[\"ShortBreakPeriod\"] = \"settings-value-short-break-period\";\n})($84eb1e6ca88951b5$var$SettingsValueId || ($84eb1e6ca88951b5$var$SettingsValueId = {}));\nvar $84eb1e6ca88951b5$var$SettingsSliderId;\n(function(SettingsSliderId) {\n    SettingsSliderId[\"FocusPeriod\"] = \"settings-slider-focus-period\";\n    SettingsSliderId[\"LongBreakPeriod\"] = \"settings-slider-long-break-period\";\n    SettingsSliderId[\"Rounds\"] = \"settings-slider-rounds\";\n    SettingsSliderId[\"ShortBreakPeriod\"] = \"settings-slider-short-break-period\";\n})($84eb1e6ca88951b5$var$SettingsSliderId || ($84eb1e6ca88951b5$var$SettingsSliderId = {}));\nconst $84eb1e6ca88951b5$export$93078a41d8e73977 = {\n    RESET: document.getElementById(\"button-reset\"),\n    SETTINGS_CLOSE: document.getElementById(\"button-settings-close\"),\n    SETTINGS_SHOW: document.getElementById(\"button-settings-show\"),\n    START: document.getElementById(\"button-start\"),\n    STOP: document.getElementById(\"button-stop\")\n};\nconst $84eb1e6ca88951b5$export$dd1e936c5b2d458 = {\n    HEADER_ROUND_CURRENT: document.getElementById(\"header-round-current\"),\n    HEADER_ROUNDS_TOTAL: document.getElementById(\"header-rounds-total\"),\n    TIME_OPERATION: document.getElementById(\"time-operation\"),\n    TIME_REMAINS: document.getElementById(\"time-remains\")\n};\nconst $84eb1e6ca88951b5$export$b04ded17071220be = {\n    LOGO_COLORED: document.getElementById(\"timer-logo-colored\"),\n    LOGO_COLORLESS: document.getElementById(\"timer-logo-colorless\")\n};\nconst $84eb1e6ca88951b5$export$44dfd228af0a5ee2 = {\n    LONG_BREAK: document.getElementById(\"audio-long-break\"),\n    SHORT_BREAK: document.getElementById(\"audio-short-break\"),\n    WORK: document.getElementById(\"audio-work\")\n};\nconst $84eb1e6ca88951b5$export$43fd3d8aafc41c8e = {\n    SETTINGS: document.getElementById(\"view-settings\"),\n    TIMER: document.getElementById(\"view-timer\")\n};\nconst $84eb1e6ca88951b5$export$fb897f9106c7ef36 = {\n    FOCUS: document.getElementById(\"settings-value-focus-period\"),\n    LONG_BREAK: document.getElementById(\"settings-value-short-break-period\"),\n    ROUNDS: document.getElementById(\"settings-value-rounds\"),\n    SHORT_BREAK: document.getElementById(\"settings-value-long-break-period\")\n};\nconst $84eb1e6ca88951b5$export$7897f0c6dc2dc0d8 = {\n    FOCUS: document.getElementById(\"settings-slider-focus-period\"),\n    LONG_BREAK: document.getElementById(\"settings-slider-short-break-period\"),\n    ROUNDS: document.getElementById(\"settings-slider-rounds\"),\n    SHORT_BREAK: document.getElementById(\"settings-slider-long-break-period\")\n};\nconst $84eb1e6ca88951b5$export$2accdc8d96d35d7d = {\n    focusPeriod: 1500000,\n    shortBreakPeriod: 300000,\n    longBreakPeriod: 900000,\n    rounds: 4\n};\nconst $84eb1e6ca88951b5$export$63ea91826dd1b82b = {\n    round: 0,\n    running: false,\n    breakRunning: false,\n    timeLeft: 1500000,\n    showSettings: false\n};\nvar $84eb1e6ca88951b5$export$a427be93dd43fc51;\n(function(BusEvents) {\n    BusEvents[\"Start\"] = \"start\";\n    BusEvents[\"Stop\"] = \"stop\";\n    BusEvents[\"NextRound\"] = \"next-round\";\n    BusEvents[\"Reset\"] = \"reset\";\n    BusEvents[\"SettingsShow\"] = \"settings-show\";\n    BusEvents[\"SettingsClose\"] = \"settings-close\";\n    BusEvents[\"SettingsUpdated\"] = \"settings-updated\";\n})($84eb1e6ca88951b5$export$a427be93dd43fc51 || ($84eb1e6ca88951b5$export$a427be93dd43fc51 = {}));\nvar $84eb1e6ca88951b5$export$eb0f4a961a9c335e;\n(function(ElementModifier) {\n    ElementModifier[\"Hidden\"] = \"hidden\";\n})($84eb1e6ca88951b5$export$eb0f4a961a9c335e || ($84eb1e6ca88951b5$export$eb0f4a961a9c335e = {}));\n\n\nclass $98ce2193e7fb3277$var$EventBus {\n    constructor(){\n        this._eventObject = {};\n        this._callbackId = 0;\n    }\n    dispatch(eventName, ...args) {\n        const callbackObject = this._eventObject[eventName];\n        if (!callbackObject) return console.warn(eventName + \" not found!\");\n        for(let id in callbackObject){\n            callbackObject[id](...args);\n            if (id[0] === \"d\") delete callbackObject[id];\n        }\n    }\n    on(eventName, callback) {\n        if (!this._eventObject[eventName]) this._eventObject[eventName] = {};\n        const id = this._callbackId++;\n        this._eventObject[eventName][id] = callback;\n        const unSubscribe = ()=>{\n            delete this._eventObject[eventName][id];\n            if (Object.keys(this._eventObject[eventName]).length === 0) delete this._eventObject[eventName];\n        };\n        return {\n            unSubscribe: unSubscribe\n        };\n    }\n    off(eventName) {\n        if (!eventName) {\n            this._eventObject = {};\n            return;\n        }\n        delete this._eventObject[eventName];\n    }\n}\nconst $98ce2193e7fb3277$export$f6644f0f2c90144b = new $98ce2193e7fb3277$var$EventBus();\n\n\n\n\n\n\n\nvar $c9a028cb0b03b3e1$export$2e2bcd8739ae039 = {\n    loadSettings: ()=>JSON.parse(localStorage.getItem((0, $84eb1e6ca88951b5$export$2fdc5139b636713c).Settings) || \"{}\"),\n    saveSettings: (settings)=>localStorage.setItem((0, $84eb1e6ca88951b5$export$2fdc5139b636713c).Settings, JSON.stringify(settings)),\n    loadState: ()=>JSON.parse(localStorage.getItem((0, $84eb1e6ca88951b5$export$2fdc5139b636713c).State) || \"{}\"),\n    saveState: (state)=>localStorage.setItem((0, $84eb1e6ca88951b5$export$2fdc5139b636713c).State, JSON.stringify(state))\n};\n\n\nclass $c41b6d86f0679787$var$Store {\n    constructor(){\n        this._init();\n    }\n    _init() {\n        this._loadSettings();\n        this._loadState();\n    }\n    _loadSettings() {\n        const savedSettings = (0, $c9a028cb0b03b3e1$export$2e2bcd8739ae039).loadSettings();\n        this._settings = {\n            ...(0, $84eb1e6ca88951b5$export$2accdc8d96d35d7d),\n            ...savedSettings\n        };\n    }\n    _loadState() {\n        const savedState = (0, $c9a028cb0b03b3e1$export$2e2bcd8739ae039).loadState();\n        this._state = {\n            ...(0, $84eb1e6ca88951b5$export$63ea91826dd1b82b),\n            timeLeft: this._settings.focusPeriod,\n            ...savedState\n        };\n    }\n    startTimer() {\n        this._state.running = true;\n        this.state.round = this.state.round || 1;\n        this.reduceTimer();\n    }\n    stopTimer() {\n        this._state.running = false;\n    }\n    reduceTimer() {\n        this.state.round > 0 && (this._state.timeLeft = this._state.timeLeft - 1000);\n        if (this._state.timeLeft < 0) return (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).dispatch((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).NextRound);\n        this._state.running && setTimeout(this.reduceTimer.bind(this), 1000);\n    }\n    resetTimer() {\n        this._init();\n    }\n    restartTimer() {\n        this._loadState();\n        this.startTimer();\n    }\n    startBreak() {\n        this._state.breakRunning = true;\n        this._state.timeLeft = this.state.round === this.settings.rounds ? this.settings.longBreakPeriod : this.settings.shortBreakPeriod;\n        this.reduceTimer();\n    }\n    startNextRound() {\n        this._state.breakRunning = false;\n        this._state.round += 1;\n        this._state.timeLeft = this.settings.focusPeriod;\n        this.reduceTimer();\n    }\n    toggleSettings(newState) {\n        this._state.showSettings = newState === undefined ? !this.state.showSettings : newState;\n    }\n    updateSettings(newSettings) {\n        this._settings = {\n            ...this.settings,\n            ...newSettings\n        };\n    }\n    get settings() {\n        return this._settings;\n    }\n    get state() {\n        return this._state;\n    }\n}\nconst $c41b6d86f0679787$export$6f57813fe9f31bf9 = new $c41b6d86f0679787$var$Store();\n\n\n\n\n\n\nfunction $b1644043712bd379$export$6d535e4753f6abc4() {\n    if ((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.running) {\n        (0, $84eb1e6ca88951b5$export$93078a41d8e73977).START?.classList.add((0, $84eb1e6ca88951b5$export$eb0f4a961a9c335e).Hidden);\n        (0, $84eb1e6ca88951b5$export$93078a41d8e73977).STOP?.classList.remove((0, $84eb1e6ca88951b5$export$eb0f4a961a9c335e).Hidden);\n    } else {\n        (0, $84eb1e6ca88951b5$export$93078a41d8e73977).START?.classList.remove((0, $84eb1e6ca88951b5$export$eb0f4a961a9c335e).Hidden);\n        (0, $84eb1e6ca88951b5$export$93078a41d8e73977).STOP?.classList.add((0, $84eb1e6ca88951b5$export$eb0f4a961a9c335e).Hidden);\n    }\n}\n\n\n\nconst $8060e4c4082313cb$export$79b91d4669dcadcb = {\n    MORE: \"\\u0435\\u0449\\u0451\",\n    RELAX: \"\\u041E\\u0442\\u0434\\u044B\\u0445\\u0430\\u0435\\u043C\",\n    WORK: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430\\u0435\\u043C\"\n};\n\n\n\nconst $3bdf1c5d8d55dc86$export$a098d05678a70394 = (num)=>num.toString().padStart(2, \"0\");\nconst $3bdf1c5d8d55dc86$export$de2ffebb48a0119f = (el, val)=>el && (el.innerHTML = val.toString());\nconst $3bdf1c5d8d55dc86$export$80746c6bc6142fc8 = (el, val)=>el && \"value\" in el && (el.value = val.toString());\n\n\nfunction $6fc6e36a48f5a0c3$export$f78842bd8df93f12() {\n    const currentOperation = (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.breakRunning ? (0, $8060e4c4082313cb$export$79b91d4669dcadcb).RELAX : (0, $8060e4c4082313cb$export$79b91d4669dcadcb).WORK;\n    const timeLeftMs = (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.timeLeft;\n    const timeLeftMinutes = Math.floor(timeLeftMs / 1000 / 60);\n    const timeLeftSeconds = (timeLeftMs - timeLeftMinutes * 60000) / 1000;\n    const timeLeftString = `${(0, $3bdf1c5d8d55dc86$export$a098d05678a70394)(timeLeftMinutes)}:${(0, $3bdf1c5d8d55dc86$export$a098d05678a70394)(timeLeftSeconds)}`;\n    (0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).TIME_OPERATION && ((0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).TIME_OPERATION.innerHTML = currentOperation);\n    (0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).TIME_REMAINS && ((0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).TIME_REMAINS.innerHTML = timeLeftString);\n}\n\n\n\n\nfunction $82cb520fc6267b47$export$31c38b89870eadc8() {\n    (0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).HEADER_ROUND_CURRENT && ((0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).HEADER_ROUND_CURRENT.innerHTML = (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.round.toString());\n    (0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).HEADER_ROUNDS_TOTAL && ((0, $84eb1e6ca88951b5$export$dd1e936c5b2d458).HEADER_ROUNDS_TOTAL.innerHTML = (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.rounds.toString());\n}\n\n\n\n\nfunction $a5f6c2e545e7d620$export$42603aefdc96a347() {\n    const isLastRound = (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.round === (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.rounds;\n    const totalPeriod = (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.breakRunning ? isLastRound ? (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.longBreakPeriod : (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.shortBreakPeriod : (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.focusPeriod;\n    const timerPercentage = 100 - Math.floor((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.timeLeft * 100 / totalPeriod);\n    (0, $84eb1e6ca88951b5$export$b04ded17071220be).LOGO_COLORED && ((0, $84eb1e6ca88951b5$export$b04ded17071220be).LOGO_COLORED.style.height = `${timerPercentage}%`);\n}\n\n\nfunction $474705609209f809$export$b3890eb0ae9dca99() {\n    (0, $b1644043712bd379$export$6d535e4753f6abc4)();\n    (0, $6fc6e36a48f5a0c3$export$f78842bd8df93f12)();\n    (0, $a5f6c2e545e7d620$export$42603aefdc96a347)();\n    (0, $82cb520fc6267b47$export$31c38b89870eadc8)();\n    if ((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.running) window.requestAnimationFrame($474705609209f809$export$b3890eb0ae9dca99);\n}\n\n\n\n\n\nconst $c112b1ef2cb2a914$var$VISIBLE_CLASS = \"visible\";\nfunction $c112b1ef2cb2a914$export$b14c3951ea30493a() {\n    const isOpened = (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.showSettings;\n    if (isOpened) (0, $84eb1e6ca88951b5$export$43fd3d8aafc41c8e).SETTINGS?.classList.add($c112b1ef2cb2a914$var$VISIBLE_CLASS);\n    else (0, $84eb1e6ca88951b5$export$43fd3d8aafc41c8e).SETTINGS?.classList.remove($c112b1ef2cb2a914$var$VISIBLE_CLASS);\n    (0, $3bdf1c5d8d55dc86$export$de2ffebb48a0119f)((0, $84eb1e6ca88951b5$export$fb897f9106c7ef36).ROUNDS, (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.rounds);\n    (0, $3bdf1c5d8d55dc86$export$80746c6bc6142fc8)((0, $84eb1e6ca88951b5$export$7897f0c6dc2dc0d8).ROUNDS, (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.rounds);\n}\n\n\n\n\n\n\nconst $8a0aee877086b81b$var$play = (el)=>{\n    el && \"play\" in el && typeof el.play === \"function\" && el.play();\n};\nconst $8a0aee877086b81b$export$865f78c00a8e621f = {\n    play () {\n        if ((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.breakRunning) {\n            if ((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.round === (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.rounds) $8a0aee877086b81b$var$play((0, $84eb1e6ca88951b5$export$44dfd228af0a5ee2).LONG_BREAK);\n            else $8a0aee877086b81b$var$play((0, $84eb1e6ca88951b5$export$44dfd228af0a5ee2).SHORT_BREAK);\n        } else $8a0aee877086b81b$var$play((0, $84eb1e6ca88951b5$export$44dfd228af0a5ee2).WORK);\n    }\n};\n\n\nfunction $b5d987b5b16ebb78$export$f4d1a3d37947b9f3() {\n    (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).on((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).Start, $b5d987b5b16ebb78$var$onStartButton);\n    (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).on((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).Stop, $b5d987b5b16ebb78$var$onStopButton);\n    (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).on((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).NextRound, $b5d987b5b16ebb78$var$onNextRound);\n    (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).on((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).Reset, $b5d987b5b16ebb78$var$onResetButton);\n    (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).on((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).SettingsShow, $b5d987b5b16ebb78$var$onShowSettings);\n    (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).on((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).SettingsClose, $b5d987b5b16ebb78$var$onCloseSettings);\n    (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).on((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).SettingsUpdated, $b5d987b5b16ebb78$var$onSettingsUpdate);\n}\nfunction $b5d987b5b16ebb78$var$onStartButton() {\n    if ((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.round === 0) (0, $8a0aee877086b81b$export$865f78c00a8e621f).play();\n    (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).startTimer();\n    (0, $474705609209f809$export$b3890eb0ae9dca99)();\n}\nfunction $b5d987b5b16ebb78$var$onStopButton() {\n    (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).stopTimer();\n    (0, $474705609209f809$export$b3890eb0ae9dca99)();\n}\nfunction $b5d987b5b16ebb78$var$onNextRound() {\n    if ((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.round >= (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings.rounds && (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.breakRunning) (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).restartTimer();\n    else if ((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).state.breakRunning) (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).startNextRound();\n    else (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).startBreak();\n    (0, $8a0aee877086b81b$export$865f78c00a8e621f).play();\n}\nfunction $b5d987b5b16ebb78$var$onResetButton() {\n    (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).resetTimer();\n    (0, $474705609209f809$export$b3890eb0ae9dca99)();\n}\nfunction $b5d987b5b16ebb78$var$onShowSettings() {\n    (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).toggleSettings(true);\n    (0, $c112b1ef2cb2a914$export$b14c3951ea30493a)();\n}\nfunction $b5d987b5b16ebb78$var$onCloseSettings() {\n    (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).toggleSettings(false);\n    (0, $c112b1ef2cb2a914$export$b14c3951ea30493a)();\n}\nfunction $b5d987b5b16ebb78$var$onSettingsUpdate() {\n    (0, $c9a028cb0b03b3e1$export$2e2bcd8739ae039).saveSettings((0, $c41b6d86f0679787$export$6f57813fe9f31bf9).settings);\n    (0, $c112b1ef2cb2a914$export$b14c3951ea30493a)();\n}\n\n\n\n\n\n\n\nfunction $10eb8f42975968a5$var$initSettingsSliderRounds() {\n    (0, $84eb1e6ca88951b5$export$7897f0c6dc2dc0d8).ROUNDS?.addEventListener(\"input\", (e)=>{\n        const newValue = Number(e.target.value);\n        (0, $c41b6d86f0679787$export$6f57813fe9f31bf9).updateSettings({\n            rounds: newValue\n        });\n        (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).dispatch((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).SettingsUpdated);\n    });\n}\nfunction $10eb8f42975968a5$export$7a58c148b4d703a6() {\n    $10eb8f42975968a5$var$initSettingsSliderRounds();\n}\n\n\nfunction $10d8af0df1357a2e$var$initStartButton() {\n    (0, $84eb1e6ca88951b5$export$93078a41d8e73977).START?.addEventListener(\"click\", ()=>{\n        (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).dispatch((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).Start);\n    });\n}\nfunction $10d8af0df1357a2e$var$initStopButton() {\n    (0, $84eb1e6ca88951b5$export$93078a41d8e73977).STOP?.addEventListener(\"click\", ()=>{\n        (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).dispatch((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).Stop);\n    });\n}\nfunction $10d8af0df1357a2e$var$initResetButton() {\n    (0, $84eb1e6ca88951b5$export$93078a41d8e73977).RESET?.addEventListener(\"click\", ()=>{\n        (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).dispatch((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).Reset);\n    });\n}\nfunction $10d8af0df1357a2e$var$initSettingsShowButton() {\n    (0, $84eb1e6ca88951b5$export$93078a41d8e73977).SETTINGS_SHOW?.addEventListener(\"click\", ()=>{\n        (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).dispatch((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).SettingsShow);\n    });\n}\nfunction $10d8af0df1357a2e$var$initSettingsCloseButton() {\n    (0, $84eb1e6ca88951b5$export$93078a41d8e73977).SETTINGS_CLOSE?.addEventListener(\"click\", ()=>{\n        (0, $98ce2193e7fb3277$export$f6644f0f2c90144b).dispatch((0, $84eb1e6ca88951b5$export$a427be93dd43fc51).SettingsClose);\n    });\n}\nfunction $10d8af0df1357a2e$export$2e2bcd8739ae039() {\n    $10d8af0df1357a2e$var$initStartButton();\n    $10d8af0df1357a2e$var$initStopButton();\n    $10d8af0df1357a2e$var$initResetButton();\n    $10d8af0df1357a2e$var$initSettingsShowButton();\n    $10d8af0df1357a2e$var$initSettingsCloseButton();\n    (0, $10eb8f42975968a5$export$7a58c148b4d703a6)();\n}\n\n\n\n\nfunction $8cc1f0b9034d4b3b$var$init() {\n    (0, $10d8af0df1357a2e$export$2e2bcd8739ae039)();\n    (0, $b5d987b5b16ebb78$export$f4d1a3d37947b9f3)();\n    (0, $474705609209f809$export$b3890eb0ae9dca99)();\n    (0, $c112b1ef2cb2a914$export$b14c3951ea30493a)();\n}\n(()=>$8cc1f0b9034d4b3b$var$init())();\n\n\n//# sourceMappingURL=index.dbbfa3b6.js.map\n","import { initControllers } from \"./controllers\";\nimport initControls from \"./controls\";\nimport { render } from \"./renderer\";\nimport { renderSettings } from \"./renderer/settings\";\nimport { store } from \"./store\";\n\nfunction init() {\n  initControls();\n\n  initControllers();\n\n  render();\n  renderSettings();\n}\n\n(() => init())();\n","import { BusEvents, EL_AUDIO } from \"../consts\";\nimport { eventBus } from \"../eventBus\";\nimport { render } from \"../renderer\";\nimport { renderSettings } from \"../renderer/settings\";\nimport { store } from \"../store\";\nimport storage from \"../utils/storage\";\nimport { audioController } from \"./audio\";\n\nexport function initControllers() {\n  eventBus.on(BusEvents.Start, onStartButton);\n  eventBus.on(BusEvents.Stop, onStopButton);\n  eventBus.on(BusEvents.NextRound, onNextRound);\n  eventBus.on(BusEvents.Reset, onResetButton);\n  eventBus.on(BusEvents.SettingsShow, onShowSettings);\n  eventBus.on(BusEvents.SettingsClose, onCloseSettings);\n  eventBus.on(BusEvents.SettingsUpdated, onSettingsUpdate);\n}\n\nfunction onStartButton() {\n  if (store.state.round === 0) {\n    audioController.play();\n  }\n\n  store.startTimer();\n  render();\n}\n\nfunction onStopButton() {\n  store.stopTimer();\n  render();\n}\n\nfunction onNextRound() {\n  if (store.state.round >= store.settings.rounds && store.state.breakRunning) {\n    store.restartTimer();\n  } else {\n    if (store.state.breakRunning) {\n      store.startNextRound();\n    } else {\n      store.startBreak();\n    }\n  }\n\n  audioController.play();\n}\n\nfunction onResetButton() {\n  store.resetTimer();\n  render();\n}\n\nfunction onShowSettings() {\n  store.toggleSettings(true);\n  renderSettings();\n}\n\nfunction onCloseSettings() {\n  store.toggleSettings(false);\n  renderSettings();\n}\n\nfunction onSettingsUpdate() {\n  storage.saveSettings(store.settings);\n  renderSettings();\n}\n","import { StoreSettings, StoreState } from \"./types\"\n\nexport enum StorageKey {\n  Settings = 'settings',\n  State = 'state',\n}\n\nenum ViewId {\n  Timer = 'view-timer',\n  Settings = 'view-settings',\n}\n\nenum ButtonId {\n  Start = 'button-start',\n  Stop = 'button-stop',\n  SettingsShow = 'button-settings-show',\n  SettingsClose = 'button-settings-close',\n  Reset = 'button-reset',\n}\n\nenum TextId {\n  TimeOperation = 'time-operation',\n  TimeRemains = 'time-remains',\n  HeaderRoundCurrent = 'header-round-current',\n  HeaderRoundsTotal = 'header-rounds-total',\n}\n\nenum TimerLogoId {\n  Colored = 'timer-logo-colored',\n  Colorless = 'timer-logo-colorless',\n}\n\nenum AudioId {\n  LongBreak = 'audio-long-break',\n  ShortBreak = 'audio-short-break',\n  Work = 'audio-work',\n}\n\nenum SettingsValueId {\n  FocusPeriod = 'settings-value-focus-period',\n  LongBreakPeriod = 'settings-value-long-break-period',\n  Rounds = 'settings-value-rounds',\n  ShortBreakPeriod = 'settings-value-short-break-period',\n}\n\nenum SettingsSliderId {\n  FocusPeriod = 'settings-slider-focus-period',\n  LongBreakPeriod = 'settings-slider-long-break-period',\n  Rounds = 'settings-slider-rounds',\n  ShortBreakPeriod = 'settings-slider-short-break-period',\n}\n\nexport const EL_BUTTONS = {\n  RESET: document.getElementById(ButtonId.Reset),\n  SETTINGS_CLOSE: document.getElementById(ButtonId.SettingsClose),\n  SETTINGS_SHOW: document.getElementById(ButtonId.SettingsShow),\n  START: document.getElementById(ButtonId.Start),\n  STOP: document.getElementById(ButtonId.Stop),\n}\n\nexport const EL_TEXTS = {\n  HEADER_ROUND_CURRENT: document.getElementById(TextId.HeaderRoundCurrent),\n  HEADER_ROUNDS_TOTAL: document.getElementById(TextId.HeaderRoundsTotal),\n  TIME_OPERATION: document.getElementById(TextId.TimeOperation),\n  TIME_REMAINS: document.getElementById(TextId.TimeRemains),\n}\n\nexport const EL_TIMER = {\n  LOGO_COLORED: document.getElementById(TimerLogoId.Colored),\n  LOGO_COLORLESS: document.getElementById(TimerLogoId.Colorless),\n}\n\nexport const EL_AUDIO = {\n  LONG_BREAK: document.getElementById(AudioId.LongBreak),\n  SHORT_BREAK: document.getElementById(AudioId.ShortBreak),\n  WORK: document.getElementById(AudioId.Work),\n}\n\nexport const EL_VIEWS = {\n  SETTINGS: document.getElementById(ViewId.Settings),\n  TIMER: document.getElementById(ViewId.Timer),\n};\n\nexport const EL_SETTINGS_VALUES = {\n  FOCUS: document.getElementById(SettingsValueId.FocusPeriod),\n  LONG_BREAK: document.getElementById(SettingsValueId.ShortBreakPeriod),\n  ROUNDS: document.getElementById(SettingsValueId.Rounds),\n  SHORT_BREAK: document.getElementById(SettingsValueId.LongBreakPeriod),\n}\n\nexport const EL_SETTINGS_SLIDERS = {\n  FOCUS: document.getElementById(SettingsSliderId.FocusPeriod),\n  LONG_BREAK: document.getElementById(SettingsSliderId.ShortBreakPeriod),\n  ROUNDS: document.getElementById(SettingsSliderId.Rounds),\n  SHORT_BREAK: document.getElementById(SettingsSliderId.LongBreakPeriod),\n}\n\nexport const DEFAULT_STORE_SETTINGS: StoreSettings = {\n  focusPeriod: 25 * 60 * 1000,\n  shortBreakPeriod: 5 * 60 * 1000,\n  longBreakPeriod: 15 * 60 * 1000,\n  rounds: 4,\n};\n\nexport const DEFAULT_STORE_STATE: StoreState = {\n  round: 0,\n  running: false,\n  breakRunning: false,\n  timeLeft: 25 * 60 * 1000,\n  showSettings: false,\n};\n\nexport enum BusEvents {\n  Start = 'start',\n  Stop = 'stop',\n  NextRound = 'next-round',\n  Reset = 'reset',\n  SettingsShow = 'settings-show',\n  SettingsClose = 'settings-close',\n  SettingsUpdated = 'settings-updated',\n}\n\nexport enum ElementModifier {\n  Hidden = 'hidden',\n}\n","export * from './eventBus';\n","import { IEventBus, IEventObject, ISubscribe } from \"../types\";\n\nclass EventBus implements IEventBus {\n  private _eventObject: IEventObject;\n  private _callbackId: number;\n  \n  constructor() {\n    this._eventObject = {};\n    this._callbackId = 0;\n  }\n\n  dispatch<T extends any[]>(eventName: string, ...args: T): void {\n    const callbackObject = this._eventObject[eventName];\n\n    if (!callbackObject) return console.warn(eventName + \" not found!\");\n\n    for (let id in callbackObject) {\n      callbackObject[id](...args);\n\n      if (id[0] === \"d\") {\n        delete callbackObject[id];\n      }\n    }\n  }\n\n  on(eventName: string, callback: Function): ISubscribe {\n    if (!this._eventObject[eventName]) {\n      this._eventObject[eventName] = {};\n    }\n\n    const id = this._callbackId++;\n\n    this._eventObject[eventName][id] = callback;\n\n    const unSubscribe = () => {\n      delete this._eventObject[eventName][id];\n\n      if (Object.keys(this._eventObject[eventName]).length === 0) {\n        delete this._eventObject[eventName];\n      }\n    };\n\n    return { unSubscribe };\n  }\n\n  off(eventName: string): void {\n    if (!eventName) {\n      this._eventObject = {};\n      return;\n    }\n\n    delete this._eventObject[eventName];\n  }\n}\n\nexport const eventBus = new EventBus();\n","import { store } from \"../store\";\nimport { renderControls } from \"./controls\";\nimport { renderFooter } from \"./footer\";\nimport { renderHeader } from \"./header\";\nimport { renderTimer } from \"./timer\";\n\nexport function render() {\n  renderControls();\n  renderFooter();\n  renderTimer();\n  renderHeader();\n\n  if (store.state.running) {\n    window.requestAnimationFrame(render);\n  }\n}\n","export * from './store';\n","import { BusEvents, DEFAULT_STORE_SETTINGS, DEFAULT_STORE_STATE } from \"../consts\";\nimport { eventBus } from \"../eventBus\";\nimport { StoreSettings, StoreState } from \"../types\";\nimport storage from \"../utils/storage\";\n\nclass Store {\n  private _state: StoreState;\n  private _settings: StoreSettings;\n\n  constructor() {\n    this._init();\n  }\n\n  private _init() {\n    this._loadSettings();\n    this._loadState();\n  }\n\n  private _loadSettings() {\n    const savedSettings = storage.loadSettings();\n    this._settings = {\n      ...DEFAULT_STORE_SETTINGS,\n      ...savedSettings,\n    }\n  }\n\n  private _loadState() {\n    const savedState = storage.loadState();\n    this._state = {\n      ...DEFAULT_STORE_STATE,\n      timeLeft: this._settings.focusPeriod,\n      ...savedState,\n    }\n  }\n\n  startTimer() {\n    this._state.running = true;\n\n    this.state.round = this.state.round || 1;\n\n    this.reduceTimer();\n  }\n\n  stopTimer() {\n    this._state.running = false;\n  }\n\n  reduceTimer() {\n    this.state.round > 0 && (this._state.timeLeft = this._state.timeLeft - 1000);\n\n    if (this._state.timeLeft < 0) {\n      return eventBus.dispatch(BusEvents.NextRound);\n    }\n\n    this._state.running && setTimeout(this.reduceTimer.bind(this), 1000);\n  }\n\n  resetTimer() {\n    this._init();\n  }\n\n  restartTimer() {\n    this._loadState();\n    this.startTimer();\n  }\n\n  startBreak() {\n    this._state.breakRunning = true;\n    this._state.timeLeft = this.state.round === this.settings.rounds\n      ? this.settings.longBreakPeriod\n      : this.settings.shortBreakPeriod;\n    this.reduceTimer();\n  }\n\n  startNextRound() {\n    this._state.breakRunning = false;\n    this._state.round += 1;\n    this._state.timeLeft = this.settings.focusPeriod;\n    this.reduceTimer();\n  }\n\n  toggleSettings(newState: boolean) {\n    this._state.showSettings = newState === undefined ? !this.state.showSettings : newState;\n  }\n\n  updateSettings(newSettings: Partial<StoreSettings>) {\n    this._settings = {\n      ...this.settings,\n      ...newSettings,\n    }\n  }\n\n  get settings() {\n    return this._settings;\n  }\n\n  get state() {\n    return this._state;\n  }\n}\n\nexport const store = new Store();\n","import { StorageKey } from \"../consts\";\nimport { StoreSettings, StoreState } from \"../types\";\n\nexport default {\n  loadSettings: (): StoreSettings | {} => JSON.parse(localStorage.getItem(StorageKey.Settings) || '{}'),\n  saveSettings: (settings: StoreSettings): void => localStorage.setItem(StorageKey.Settings, JSON.stringify(settings)),\n  loadState: (): StoreState | {} => JSON.parse(localStorage.getItem(StorageKey.State) || '{}'),\n  saveState: (state: StoreState): void => localStorage.setItem(StorageKey.State, JSON.stringify(state)),\n}","import { store } from \"../store\";\nimport { EL_BUTTONS, ElementModifier } from \"../consts\";\n\nexport function renderControls() {\n  if (store.state.running) {\n    EL_BUTTONS.START?.classList.add(ElementModifier.Hidden);\n    EL_BUTTONS.STOP?.classList.remove(ElementModifier.Hidden);\n  } else {\n    EL_BUTTONS.START?.classList.remove(ElementModifier.Hidden);\n    EL_BUTTONS.STOP?.classList.add(ElementModifier.Hidden);\n  }\n}\n","import { EL_TEXTS } from \"../consts\";\nimport { LABELS } from '../labels';\nimport { store } from \"../store\";\nimport { leadZero } from '../utils';\n\nexport function renderFooter() {\n  const currentOperation = store.state.breakRunning ? LABELS.RELAX : LABELS.WORK;\n\n  const timeLeftMs = store.state.timeLeft;\n  const timeLeftMinutes = Math.floor(timeLeftMs / 1000 / 60);\n  const timeLeftSeconds = (timeLeftMs - timeLeftMinutes * 60 * 1000) / 1000;\n  const timeLeftString = `${leadZero(timeLeftMinutes)}:${leadZero(timeLeftSeconds)}`;\n\n  EL_TEXTS.TIME_OPERATION && (EL_TEXTS.TIME_OPERATION.innerHTML = currentOperation);\n  EL_TEXTS.TIME_REMAINS && (EL_TEXTS.TIME_REMAINS.innerHTML = timeLeftString);\n};\n","export const LABELS = {\n  MORE: 'ещё',\n  RELAX: 'Отдыхаем',\n  WORK: 'Работаем',\n};\n","export const leadZero = (num: number) => num.toString().padStart(2, '0');\n\nexport const setHTML = (el: HTMLElement | null, val: string | number) => el && (el.innerHTML = val.toString());\n\nexport const setValue = (el: HTMLElement | null, val: string | number) => el && 'value' in el && (el.value = val.toString());\n","import { EL_TEXTS } from \"../consts\";\nimport { store } from \"../store\";\n\nexport function renderHeader() {\n  EL_TEXTS.HEADER_ROUND_CURRENT && (EL_TEXTS.HEADER_ROUND_CURRENT.innerHTML = store.state.round.toString());\n  EL_TEXTS.HEADER_ROUNDS_TOTAL && (EL_TEXTS.HEADER_ROUNDS_TOTAL.innerHTML = store.settings.rounds.toString());\n};\n","import { EL_TIMER } from \"../consts\";\nimport { store } from \"../store\";\n\nexport function renderTimer() {\n  const isLastRound = store.state.round === store.settings.rounds;\n  const totalPeriod = store.state.breakRunning\n    ? isLastRound\n      ? store.settings.longBreakPeriod\n      : store.settings.shortBreakPeriod\n    : store.settings.focusPeriod;\n  const timerPercentage = 100 - Math.floor(store.state.timeLeft * 100 / totalPeriod);\n\n  EL_TIMER.LOGO_COLORED && (EL_TIMER.LOGO_COLORED.style.height = `${timerPercentage}%`);\n}","import { EL_SETTINGS_SLIDERS, EL_SETTINGS_VALUES, EL_TIMER, EL_VIEWS } from \"../consts\";\nimport { store } from \"../store\";\nimport { setHTML, setValue } from \"../utils\";\n\nconst VISIBLE_CLASS = 'visible';\n\nexport function renderSettings() {\n  const isOpened = store.state.showSettings;\n\n  if (isOpened) {\n    EL_VIEWS.SETTINGS?.classList.add(VISIBLE_CLASS);\n  } else {\n    EL_VIEWS.SETTINGS?.classList.remove(VISIBLE_CLASS);\n  }\n\n  setHTML(EL_SETTINGS_VALUES.ROUNDS, store.settings.rounds);\n  setValue(EL_SETTINGS_SLIDERS.ROUNDS, store.settings.rounds);\n}\n","import { EL_AUDIO } from \"../consts\";\nimport { store } from \"../store\";\n\nconst play = (el: HTMLElement | null) => {\n  el && 'play' in el && typeof el.play === 'function' && el.play();\n}\n\nexport const audioController = {\n  play() {\n    if (store.state.breakRunning) {\n      if (store.state.round === store.settings.rounds) {\n        play(EL_AUDIO.LONG_BREAK);\n      } else {\n        play(EL_AUDIO.SHORT_BREAK);\n      }\n    } else {\n      play(EL_AUDIO.WORK);\n    }\n  }\n}","import { BusEvents, EL_BUTTONS } from \"../consts\";\nimport { eventBus } from \"../eventBus\";\nimport { initSettings } from \"./settings\";\n\nfunction initStartButton() {\n  EL_BUTTONS.START?.addEventListener('click', () => {\n    eventBus.dispatch(BusEvents.Start);\n  });\n}\n\nfunction initStopButton() {\n  EL_BUTTONS.STOP?.addEventListener('click', () => {\n    eventBus.dispatch(BusEvents.Stop);\n  });\n}\n\nfunction initResetButton() {\n  EL_BUTTONS.RESET?.addEventListener('click', () => {\n    eventBus.dispatch(BusEvents.Reset);\n  });\n}\n\nfunction initSettingsShowButton() {\n  EL_BUTTONS.SETTINGS_SHOW?.addEventListener('click', () => {\n    eventBus.dispatch(BusEvents.SettingsShow);\n  });\n}\n\nfunction initSettingsCloseButton() {\n  EL_BUTTONS.SETTINGS_CLOSE?.addEventListener('click', () => {\n    eventBus.dispatch(BusEvents.SettingsClose);\n  });\n}\n\nexport default function initControls() {\n  initStartButton();\n  initStopButton();\n  initResetButton();\n  initSettingsShowButton();\n  initSettingsCloseButton();\n\n  initSettings();\n}\n","import { BusEvents, EL_SETTINGS_SLIDERS } from \"../consts\";\nimport { eventBus } from \"../eventBus\";\nimport { store } from \"../store\";\n\nfunction initSettingsSliderRounds() {\n  EL_SETTINGS_SLIDERS.ROUNDS?.addEventListener('input', (e: any) => {\n    const newValue = Number(e.target.value as string);\n\n    store.updateSettings({rounds: newValue});\n    eventBus.dispatch(BusEvents.SettingsUpdated);\n  })\n}\n\nexport function initSettings() {\n  initSettingsSliderRounds();\n}\n"],"names":["StorageKey","$84eb1e6ca88951b5$export$2fdc5139b636713c","ViewId","$84eb1e6ca88951b5$var$ViewId","ButtonId","$84eb1e6ca88951b5$var$ButtonId","TextId","$84eb1e6ca88951b5$var$TextId","TimerLogoId","$84eb1e6ca88951b5$var$TimerLogoId","AudioId","$84eb1e6ca88951b5$var$AudioId","SettingsValueId","$84eb1e6ca88951b5$var$SettingsValueId","SettingsSliderId","$84eb1e6ca88951b5$var$SettingsSliderId","$84eb1e6ca88951b5$export$93078a41d8e73977","RESET","document","getElementById","SETTINGS_CLOSE","SETTINGS_SHOW","START","STOP","$84eb1e6ca88951b5$export$dd1e936c5b2d458","HEADER_ROUND_CURRENT","HEADER_ROUNDS_TOTAL","TIME_OPERATION","TIME_REMAINS","$84eb1e6ca88951b5$export$b04ded17071220be","LOGO_COLORED","LOGO_COLORLESS","$84eb1e6ca88951b5$export$44dfd228af0a5ee2","LONG_BREAK","SHORT_BREAK","WORK","$84eb1e6ca88951b5$export$43fd3d8aafc41c8e","SETTINGS","TIMER","$84eb1e6ca88951b5$export$fb897f9106c7ef36","FOCUS","ROUNDS","$84eb1e6ca88951b5$export$7897f0c6dc2dc0d8","$84eb1e6ca88951b5$export$2accdc8d96d35d7d","focusPeriod","shortBreakPeriod","longBreakPeriod","rounds","$84eb1e6ca88951b5$export$63ea91826dd1b82b","round","running","breakRunning","timeLeft","showSettings","BusEvents","$84eb1e6ca88951b5$export$a427be93dd43fc51","ElementModifier","$84eb1e6ca88951b5$export$eb0f4a961a9c335e","$98ce2193e7fb3277$export$f6644f0f2c90144b","constructor","_eventObject","_callbackId","dispatch","eventName","args","callbackObject","console","warn","id","on","callback","unSubscribe","Object","keys","length","off","JSON","parse","localStorage","getItem","Settings","settings","setItem","stringify","State","$c41b6d86f0679787$export$6f57813fe9f31bf9","_init","_loadSettings","_loadState","savedSettings","_settings","savedState","_state","startTimer","state","reduceTimer","stopTimer","NextRound","setTimeout","bind","resetTimer","restartTimer","startBreak","startNextRound","toggleSettings","newState","undefined","updateSettings","newSettings","$8060e4c4082313cb$export$79b91d4669dcadcb","RELAX","$3bdf1c5d8d55dc86$export$a098d05678a70394","num","toString","padStart","$3bdf1c5d8d55dc86$export$de2ffebb48a0119f","el","val","innerHTML","$3bdf1c5d8d55dc86$export$80746c6bc6142fc8","value","$474705609209f809$export$b3890eb0ae9dca99","classList","add","Hidden","remove","currentOperation","timeLeftMs","timeLeftMinutes","Math","floor","timeLeftString","isLastRound","totalPeriod","timerPercentage","style","height","window","requestAnimationFrame","$c112b1ef2cb2a914$var$VISIBLE_CLASS","$c112b1ef2cb2a914$export$b14c3951ea30493a","$8a0aee877086b81b$var$play","play","$8a0aee877086b81b$export$865f78c00a8e621f","addEventListener","Start","Stop","Reset","SettingsShow","SettingsClose","e","newValue","Number","target","SettingsUpdated"],"version":3,"file":"index.dbbfa3b6.js.map"}